(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,a){e.exports=a.p+"static/media/symbol-defs.414f8912.svg"},25:function(e,t,a){e.exports=a.p+"static/media/smallE.001.ee9909f9.png"},26:function(e,t,a){e.exports=a.p+"static/media/eugeva.63d4957d.jpeg"},29:function(e,t,a){e.exports=a(53)},51:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(24),i=a.n(r),s=a(17),l=a(7),o=a(8),m=a(11),d=a(9),u=a(10),p=a(56),h=a(18),E=a.n(h),b=(a(47),a(55)),f=a(14),v=a.n(f),_=a(25),g=a.n(_),N=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).state={activeIndex:0},e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("div",{className:"sidebar"},c.a.createElement("div",{className:"header"},c.a.createElement("img",{src:g.a,alt:"logo",className:"header__img",placeholder:"Search"}),c.a.createElement("div",{className:"header__title"},"Report Deck")),[{text:"home",icon:"icon-suitcase-with-white-details"},{text:"dashboard",icon:"icon-bar-graph-on-a-rectangle"},{text:"problem",icon:"icon-open-wrench-tool-silhouette"},{text:"change",icon:"icon-forward-button"}].map(function(t,a){return c.a.createElement(b.a,{to:"/".concat(t.text),className:"sidebar__item ".concat(a===e.state.activeIndex?"sidebar__item-active":null),onClick:function(){return e.setState({activeIndex:a})},key:a},c.a.createElement("svg",{className:"sidebar__icon"},c.a.createElement("use",{xlinkHref:"".concat(v.a,"#").concat(t.icon)})),c.a.createElement("span",{className:"sidebar__item-text"},t.text))}))}}]),t}(n.Component),O=a(6),y=a(58),j=a(57),x=a(26),k=a.n(x),S=function(e){return c.a.createElement("div",{className:"search-box"},c.a.createElement("input",{className:"header__search",type:"text",placeholder:"Search",onChange:e.search}),c.a.createElement("div",{className:"header__profile"},c.a.createElement("div",{className:"header__profile-user"},c.a.createElement("img",{className:"header__profile-user-photo",src:k.a,alt:"user"}),c.a.createElement("span",{className:"header__profile-user-name"},"Eugene Van Zyl"))))},w=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={show_content:!1},a.selected=a.selected.bind(Object(O.a)(Object(O.a)(a))),a.time=a.time.bind(Object(O.a)(Object(O.a)(a))),a.started=a.started.bind(Object(O.a)(Object(O.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"selected",value:function(){this.setState({show_content:!this.state.show_content})}},{key:"time",value:function(e,t){var a=t-e,n=parseInt(a/6e4%60),c=parseInt(a/36e5%24);return n=n<10?"0"+n:n,"".concat(c=c<10?"0"+c:c,"h ").concat(n,"m")}},{key:"started",value:function(e){return"".concat(new Date(e).toString().slice(0,21))}},{key:"render",value:function(){var e=this.props.data,t=e.impact,a=e.description,n=e.action,r=e.status,i=e.downtime,s=e.uptime,l=e.priority,o=e.manager,m=e.reporter,d=e.resolver,u=this.state.show_content?{display:"block"}:{},p=this.time(i,s);return c.a.createElement("div",{className:"list__card"},c.a.createElement("div",{className:"list__card-title"},"".concat(this.started(i)),c.a.createElement("h4",null,t),c.a.createElement("div",{className:"list__card-extra"},c.a.createElement("span",null,"Priority: "),c.a.createElement("span",null,l))),c.a.createElement("div",{className:"list__card-extra"},c.a.createElement("svg",{className:"list__card-icon"},c.a.createElement("use",{xlinkHref:"".concat(v.a,"#icon-time")})),c.a.createElement("span",null,p)),c.a.createElement("div",{className:"list__card-detail"},a),c.a.createElement("div",{className:"list__card-extra"},c.a.createElement("svg",{className:"list__card-icon"},c.a.createElement("use",{xlinkHref:"".concat(v.a,"#icon-refresh-arrow")})),c.a.createElement("span",null,r)),c.a.createElement("button",{className:"list__card-action",onClick:this.selected},c.a.createElement("h2",null,"More"),c.a.createElement("div",{className:"list__card-action-text",style:u},n?n.map(function(e,t){return c.a.createElement("p",{className:"list__card-action-text--actions",key:t},e)}):c.a.createElement("p",null,"No Actions"),c.a.createElement("p",null,"MANAGER \u2014 ",o),c.a.createElement("p",null,"REPORTER \u2014 ",m),c.a.createElement("p",null,"RESOLVER \u2014 ",d))))}}]),t}(n.Component),I=a(28),C=function(e){var t=Math.max.apply(Math,Object(I.a)(e.times.map(function(e){return e/6e4/10})));return c.a.createElement("div",{className:"charts"},c.a.createElement("div",{className:"title"},c.a.createElement("h3",null,"Latest Incident Infographic"),c.a.createElement("h4",null,"Ordered by date descending (earliest to oldest) ")),c.a.createElement("div",{className:"barchart"},e.applications.map(function(a,n){var r=e.times[n]/6e4/10*100/t;return c.a.createElement("div",{className:"barchart__items",key:n},c.a.createElement("div",{className:"barchart__title"},a[0]),c.a.createElement("div",{className:"barchart__bar",style:{width:"".concat(r,"%")}},"".concat(function(e){var t=parseInt(e/36e5%24);return t<10?"0"+t:t}(e.times[n]),"h").concat(function(e){var t=parseInt(e/6e4%60);return t<10?"0"+t:t}(e.times[n]),"m")))})))},A=function(e){var t=["ACTION","ADDED","DUE","LATEST","LIMITATIONS","OWNER","RESPONSIBLE","STATUS","TYPE","id"];return c.a.createElement("div",{className:"problem"},t.map(function(a,n){var r=e.data[t[n]];return c.a.createElement("div",{className:"problem__box",key:n},c.a.createElement("div",{className:"problem__".concat(a),"data-heading":!0},a),c.a.createElement("div",null,"".concat(r,".")))}))},T=function(e){return c.a.createElement("div",{className:"change"},["CLASS","COORDINATOR","END","SERVICE","START","STATUS","SUMMARY","id"].map(function(t,a){return c.a.createElement("div",{key:a,className:"change__box"},c.a.createElement("div",{className:"change__".concat(t),"data-heading":!0},t),c.a.createElement("div",null,"".concat(e.data[t])))}))},R=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(m.a)(this,Object(d.a)(t).call(this,e))).state={times:e.dbIncidents.slice(0,6).map(function(e){return parseInt(e.uptime-e.downtime)}),applications:e.dbIncidents.slice(0,6).map(function(e){return e.application}),search:""},a.searchEngine=a.searchEngine.bind(Object(O.a)(Object(O.a)(a))),a}return Object(u.a)(t,e),Object(o.a)(t,[{key:"searchEngine",value:function(e){this.setState({search:e.target.value.substr(0,20)})}},{key:"render",value:function(){var e=this,t=this.props.dbIncidents.filter(function(t){return-1!==t.impact.toLowerCase().indexOf(e.state.search.toLowerCase())}),a=this.props.dbProblems.filter(function(t){return-1!==t.ACTION.toLowerCase().indexOf(e.state.search.toLowerCase())}),n=this.props.dbChanges.filter(function(t){return-1!==t.SUMMARY.toLowerCase().indexOf(e.state.search.toLowerCase())});return c.a.createElement("div",{className:"main"},c.a.createElement(y.a,{render:function(r){var i=r.location;return c.a.createElement(j.a,{location:i},["/","/home"].map(function(a,n){return c.a.createElement(y.a,{key:n,path:a,exact:!0,render:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(S,{search:e.searchEngine,list:t,category:"impact",component:w}),t.map(function(e,t){return c.a.createElement(w,{data:e,key:t})}))}})}),c.a.createElement(y.a,{path:"/dashboard",render:function(){return c.a.createElement(C,{times:e.state.times,applications:e.state.applications})}}),c.a.createElement(y.a,{path:"/problem",render:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(S,{list:a,category:"ACTION",component:A}),a.map(function(e,t){return c.a.createElement(A,{data:e,key:t})}))}}),c.a.createElement(y.a,{path:"/change",render:function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(S,{list:n,category:"SUMMARY",component:T}),n.map(function(e,t){return c.a.createElement(T,{data:e,key:t})}))}}),c.a.createElement(y.a,{render:function(){return c.a.createElement("div",null,"Page Not Found")}}))}}))}}]),t}(n.Component);a(51);E.a.initializeApp({apiKey:"AIzaSyCPexi8M8FFjmqjtoBTp3HJJiHwyk03S5M",authDomain:"report-manager-e3067.firebaseapp.com",databaseURL:"https://report-manager-e3067.firebaseio.com",projectId:"report-manager-e3067",storageBucket:"report-manager-e3067.appspot.com",messagingSenderId:"957180191625"});var L=E.a.firestore(),M=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(m.a)(this,Object(d.a)(t).call(this))).state={},e}return Object(u.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){var e=this,t=L.collection("incidents"),a=L.collection("problems"),n=L.collection("changes"),c=t.orderBy("downtime","desc"),r=a.orderBy("DUE","desc"),i=n.orderBy("START","desc");c.get().then(function(t){var a=[];t.forEach(function(e){a.push(Object(s.a)({},e.data(),{id:e.id}))}),e.setState({incidents:a})}),r.get().then(function(t){var a=[];t.forEach(function(e){a.push(Object(s.a)({},e.data(),{id:e.id}))}),e.setState({problems:a})}),i.get().then(function(t){var a=[];t.forEach(function(e){a.push(Object(s.a)({},e.data(),{id:e.id}))}),e.setState({changes:a})})}},{key:"render",value:function(){return c.a.createElement(p.a,null,c.a.createElement("div",{className:"container"},c.a.createElement(N,null),this.state.incidents&&this.state.problems&&this.state.changes?c.a.createElement(R,{dbIncidents:this.state.incidents,dbProblems:this.state.problems,dbChanges:this.state.changes}):c.a.createElement("div",{className:"loading"},"Page Loading...")))}}]),t}(n.Component);i.a.render(c.a.createElement(M,null),document.getElementById("root"))}},[[29,2,1]]]);
//# sourceMappingURL=main.a070a417.chunk.js.map